<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>append()</title>
    <script src="https://kit.fontawesome.com/86a4513501.js" crossorigin="anonymous"></script>
    <style>
        table,
        tbody,
        th,
        td {
            border: 1px solid lightblue;
        }

        th,
        input {
            width: 300px;
            height: 30px;
        }

        input {
            border: 0px;
        }

        td {
            height: 30px;
        }
    </style>

</head>

<body>
    <button id="plus"><i class="far fa-plus-square"></i></button>
    <table>
        <tbody>

            <th>數值一</th>
            <th>數值二</th>
            <th>計算</th>
            <th>操作</th>
            <tr>
                <td><input type="text" class="n_1"></td>
                <td><input type="text" class="n_2"></td>
                <td><input type="text" readonly class="result"></td>
                <td><button class="minus"><i class="far fa-minus-square"></i></button></td>
            </tr>
        </tbody>
    </table>
    <span>total:</span>
    <p id="count"></p>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $('#plus').click(function () {
            let appendIn = `'<tr> 
                <td><input type="text" class="n_1"></td>
                <td><input type="text" class="n_2"></td>
                <td><input type="text" readonly class="result"></td> <td><button class="minus"><i class="far fa-minus-square"></i></button></td></tr>'`

            $('tbody').append(appendIn);
        })
        $('tbody').on('click', '.minus', function () {
            console.log('我真的被刪除了');
            // $(this).remove('tr');
            $('tbody').find('tr').last().remove('tr');
        })


        $('tbody').on('keyup', '.n_1', function () {
            let aa = Number($(this).parents('tr').find('.n_1').val());
            let bb = Number($(this).parents('tr').find('.n_2').val());
            $(this).parents('tr').find('.result').val(aa + bb);
            counter();
        })



        $('tbody').on('keyup', '.n_2', function () {
            let aa = Number($(this).parents('tr').find('.n_1').val());
            let bb = Number($(this).parents('tr').find('.n_2').val());
            $(this).parents('tr').find('.result').val(aa + bb);
            counter();
        });
        function counter() {
            let counter = 0;
            $('tbody').find('.result').each(function () {
                counter += Number($(this).val());
                $('#count').text(counter)
                console.log(counter);

            })


        }





    </script>
</body>

</html>